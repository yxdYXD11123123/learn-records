(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{388:function(t,s,a){t.exports=a.p+"assets/img/image-20240131172610339.889e2706.png"},389:function(t,s,a){t.exports=a.p+"assets/img/image-20240131172833763.b6c7e019.png"},390:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173104403-1706693465073-1.97ec69cc.png"},391:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173421362.7faa8e7d.png"},392:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173653336.fc4a343a.png"},393:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173931287.a61bbc45.png"},394:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174046294.94a36c6f.png"},395:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174148960.fe1e6f3b.png"},396:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174304952.285a4794.png"},397:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174410853.8d6ae574.png"},398:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174428662.02b5be27.png"},399:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174608810.c950adf1.png"},400:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174936686.f54960fd.png"},441:function(t,s,a){"use strict";a.r(s);var i=a(14),r=Object(i.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"选择重传协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择重传协议"}},[t._v("#")]),t._v(" 选择重传协议")]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#8600FF"}},[t._v("回退N帧协议")]),t._v("的接收窗口尺寸"),s("font",{attrs:{color:"#EA0000"}},[t._v("W~R~ 只能等于1")]),t._v("，因此接收方"),s("font",{attrs:{color:"#EA0000"}},[t._v("只能按序接收正确到达的数据分组")])],1),t._v(" "),s("li",[s("u",[t._v("一个数据分组的误码就会导致后续多个数据分组不能被接收方按序接收而丢弃")]),t._v("。这必然会造成发送方对这些数据分组的超时重传，显然这是对通信资源的极大浪费。")]),t._v(" "),s("li",[t._v("为了进一步提高性能，可设法"),s("font",{attrs:{color:"#EA0000"}},[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("只重传出现误码的数据分组")])],1),t._v("，因此，接收窗口的尺寸"),s("font",{attrs:{color:"#EA0000"}},[t._v("W~R~不应再等于1（而应大于1）")]),t._v("，以便接收方"),s("font",{attrs:{color:"#EA7500"}},[t._v("先收下失序到达但无误码并且序号落在接收窗口内的那些数据分组")]),t._v("，等到所缺分组收齐后再一并送交上层，这就是"),s("font",{attrs:{color:"#8600FF"}},[s("strong",[t._v("选择重传协议")])]),t._v("。")],1)]),t._v(" "),s("p",[s("strong",[t._v("注意：")])]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#8600FF"}},[t._v("选择重传协议")]),t._v("为了使发送方仅重传出现差错的分组，接收方"),s("font",{attrs:{color:"#EA0000"}},[t._v("不能再采用累积确认")]),t._v("，而需要对每个正确接收到数据分组进行"),s("font",{attrs:{color:"#EA0000"}},[t._v("逐一确认")])],1)]),t._v(" "),s("h2",{attrs:{id:"工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作原理"}},[t._v("#")]),t._v(" 工作原理")]),t._v(" "),s("p",[t._v("假设：")]),t._v(" "),s("ul",[s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("采用3个比特个分组编号，0 - 7")])],1),t._v(" "),s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("发送窗口的尺寸 W~T~的取值：1 < W~T~ <= 2 ^3-1^，本例取4")])],1),t._v(" "),s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("接收窗口的尺寸 W~R~的取值：W~R~ = W~T~ = 4 （一般情况下，两个窗口尺寸取值相同）")])],1)]),t._v(" "),s("p",[s("img",{attrs:{src:a(388),alt:"image-20240131172610339"}})]),t._v(" "),s("p",[t._v("开始发送：")]),t._v(" "),s("ul",[s("li",[t._v("发送方将序号落在发送窗口内的这4个数据分组依次连续发送出去")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(389),alt:"image-20240131172833763"}})]),t._v(" "),s("ul",[s("li",[t._v("经过互联网的传输陆续到达接收方，但其中2号数据分组丢失了")]),t._v(" "),s("li",[t._v("其他序号可落入接收窗口且无误码的数据分组，接收方都会被接收")]),t._v(" "),s("li",[t._v("接收方接收0号和1号分组，并发送相应的确认分组")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(390),alt:"image-20240131173104403"}})]),t._v(" "),s("ul",[s("li",[t._v("接收窗口向前滑动两个位置\n"),s("ul",[s("li",[t._v("此时，4号和5号落入接收窗口")])])]),t._v(" "),s("li",[t._v("接收方接收3号数据分组，并发送确认分组，但"),s("font",{attrs:{color:"#EA0000"}},[t._v("窗口不能滑动")]),t._v("（因为3号是未按序到达的数据分组）")],1),t._v(" "),s("li",[t._v("确认分组经过互联网传输，陆续到达发送方")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(391),alt:"image-20240131173421362"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方每按序收到一个确认分组，发送窗口向前滑动一个位置")]),t._v(" "),s("li",[t._v("发送方接收0号和1号，向前滑动2个位置，这样4、5号就进入了发送窗口")]),t._v(" "),s("li",[t._v("发送方将新落入发送窗口的4号和5号发送出去，并可以将0、1号从缓存中删除")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(392),alt:"image-20240131173653336"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方接收3号分组，但窗口不能向前滑动，因为这是一个未按序到达的确认分组，发送方还未收到它之前的2号确认分组\n"),s("ul",[s("li",[t._v("不过，需要"),s("font",{attrs:{color:"#EA0000"}},[t._v("记录3号数据分组已收到确认，避免超时重发")])],1)])]),t._v(" "),s("li",[t._v("4、5号到达接收方，但接收窗口仍然不能向前滑动")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(393),alt:"image-20240131173931287"}})]),t._v(" "),s("ul",[s("li",[t._v("假设在4、5号数据确认分组传输过程中，发送方针对2号数据分组的重传计时器超时了")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(394),alt:"image-20240131174046294"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方重发2号分组，接收到4、5号确认分组后记录")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(395),alt:"image-20240131174148960"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方重传的2号分组到达接收方，接收方接收该分组，并可以向前滑动4个位置，并发出2号确认分组")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(396),alt:"image-20240131174304952"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方接收到2号确认分组，发送窗口也可以向前滑动4个位置")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(397),alt:"image-20240131174410853"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方可以继续发送后面的分组了")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(398),alt:"image-20240131174428662"}})]),t._v(" "),s("h3",{attrs:{id:"选择重传协议的发送窗口和接收窗口的尺寸问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择重传协议的发送窗口和接收窗口的尺寸问题"}},[t._v("#")]),t._v(" 选择重传协议的发送窗口和接收窗口的尺寸问题")]),t._v(" "),s("p",[s("img",{attrs:{src:a(399),alt:"image-20240131174608810"}})]),t._v(" "),s("p",[s("font",{attrs:{color:"#EA0000"}},[t._v("如果发送窗口和接收窗口的尺寸超过了取值范围，接收方无法分辨出新、旧分组。")])],1),t._v(" "),s("p",[s("img",{attrs:{src:a(400),alt:"image-20240131174936686"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);