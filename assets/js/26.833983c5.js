(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{554:function(t,o,r){t.exports=r.p+"assets/img/image-20240301182023765.34f147dd.png"},555:function(t,o,r){t.exports=r.p+"assets/img/image-20240301190015607.2bc415f5.png"},556:function(t,o,r){t.exports=r.p+"assets/img/image-20240301190313380.55fceba7.png"},557:function(t,o,r){t.exports=r.p+"assets/img/image-20240301190755145.99ca6ec6.png"},558:function(t,o,r){t.exports=r.p+"assets/img/image-20240301192144205.7c0c6fee.png"},559:function(t,o,r){t.exports=r.p+"assets/img/image-20240301192233918.331d9529.png"},560:function(t,o,r){t.exports=r.p+"assets/img/image-20240301192530172.e2ca0d9f.png"},561:function(t,o,r){t.exports=r.p+"assets/img/image-20240301192634673.5f81c49f.png"},562:function(t,o,r){t.exports=r.p+"assets/img/image-20240301193008226.b5d00b92.png"},563:function(t,o,r){t.exports=r.p+"assets/img/image-20240301193236412.3874c82f.png"},660:function(t,o,r){"use strict";r.r(o);var v=r(14),_=Object(v.a)({},(function(){var t=this,o=t._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"路由信息协议rip的基本工作原理"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#路由信息协议rip的基本工作原理"}},[t._v("#")]),t._v(" 路由信息协议RIP的基本工作原理")]),t._v(" "),o("ul",[o("li",[o("p",[o("font",{attrs:{color:"#EA0000"}},[t._v("路由信息协议RIP")]),t._v("（Routing Information Protocol）是内部网关协议IGP中最先得到广泛使用的协议之一，其相关标准文档为RFC1058")],1)]),t._v(" "),o("li",[o("p",[t._v("RIP要求自治系统AS内的每一个路由器都要维护从它自己到AS内其他每一个网络的距离记录。这是一组距离，称为"),o("font",{attrs:{color:"#EA0000"}},[t._v("“距离向量D-V(Distance-Vector)”")])],1)]),t._v(" "),o("li",[o("p",[t._v("RIP使用"),o("font",{attrs:{color:"#EA0000"}},[t._v("跳数")]),t._v("（Hop Count）作为度量（Metric）"),o("font",{attrs:{color:"#EA0000"}},[t._v("来衡量到达目的网络的距离")])],1),t._v(" "),o("ul",[o("li",[o("p",[t._v("路由器到直连网络的距离定义为1")])]),t._v(" "),o("li",[o("p",[t._v("路由器到非直连网络的距离定义为所经过的路由器数加1")])]),t._v(" "),o("li",[o("p",[t._v("允许一条路径最多只能包含15个路由器。"),o("font",{attrs:{color:"#EA0000"}},[t._v("”距离“等于16时相当于不可达")])],1),t._v(" "),o("p",[t._v("因此，"),o("font",{attrs:{color:"#EA0000"}},[t._v("RIP只适用于小型互联网")])],1)])])])]),t._v(" "),o("p",[o("img",{attrs:{src:r(554),alt:"image-20240301182023765"}})]),t._v(" "),o("ul",[o("li",[t._v("RIP认为"),o("font",{attrs:{color:"#EA0000"}},[t._v("好的路由")]),t._v("就是“距离短”的路由，也就是"),o("font",{attrs:{color:"#EA0000"}},[t._v("所通过路由器数量最少的路由")])],1),t._v(" "),o("li",[t._v("当到达同一目的网络有多条“距离相等”的路由时，可以进行"),o("font",{attrs:{color:"#EA0000"}},[t._v("等价负载均衡")])],1),t._v(" "),o("li",[t._v("RIP包含以下三个要点：\n"),o("ul",[o("li",[t._v("和谁交换信息：仅和"),o("font",{attrs:{color:"#EA0000"}},[t._v("相邻路由")]),t._v("表交换信息")],1),t._v(" "),o("li",[t._v("交换什么信息：自己的"),o("font",{attrs:{color:"#EA0000"}},[t._v("路由表")])],1),t._v(" "),o("li",[t._v("何时交换信息："),o("font",{attrs:{color:"#EA0000"}},[t._v("周期性交换")]),t._v("（例如每30秒）")],1)])])]),t._v(" "),o("h2",{attrs:{id:"rip的基本工作过程"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rip的基本工作过程"}},[t._v("#")]),t._v(" RIP的基本工作过程")]),t._v(" "),o("ul",[o("li",[o("p",[t._v("路由器刚开始工作时，"),o("font",{attrs:{color:"#EA0000"}},[t._v("只知道自己到直连网络的距离为1")])],1),t._v(" "),o("p",[o("img",{attrs:{src:r(555),alt:"image-20240301190015607"}})])]),t._v(" "),o("li",[o("p",[t._v("每个路由器仅"),o("font",{attrs:{color:"#EA0000"}},[t._v("和相邻路由器周期性地交换并更新路由信息")])],1)]),t._v(" "),o("li",[o("p",[t._v("若干次交换和更新后，"),o("font",{attrs:{color:"#EA0000"}},[t._v("每个路由器都知道到达本AS内各网络的最短距离和下一跳地址")]),t._v("，称为"),o("strong",[t._v("收敛")])],1),t._v(" "),o("p",[o("img",{attrs:{src:r(556),alt:"image-20240301190313380"}})])])]),t._v(" "),o("h3",{attrs:{id:"rip的路由条目的更新规则"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rip的路由条目的更新规则"}},[t._v("#")]),t._v(" RIP的路由条目的更新规则")]),t._v(" "),o("p",[o("img",{attrs:{src:r(557),alt:"image-20240301190755145"}})]),t._v(" "),o("p",[t._v("如图，C将自己的"),o("strong",[t._v("路由表")]),t._v("发给D")]),t._v(" "),o("ul",[o("li",[t._v("D首先对C的路由表进行"),o("font",{attrs:{color:"#EA0000"}},[t._v("改造")]),t._v("，改造方式为：\n"),o("ul",[o("li",[t._v("将所有"),o("font",{attrs:{color:"#EA0000"}},[t._v("距离加 1")])],1),t._v(" "),o("li",[o("font",{attrs:{color:"#EA0000"}},[t._v("下一跳全部改为C")])],1)])],1),t._v(" "),o("li",[t._v("然后根据改造后的路由表，对自己的路由表进行"),o("font",{attrs:{color:"#EA0000"}},[t._v("对比更新")]),t._v("（更新理由如图所示）")],1)]),t._v(" "),o("h3",{attrs:{id:"rip存在-坏消息传播得慢-的问题"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#rip存在-坏消息传播得慢-的问题"}},[t._v("#")]),t._v(" RIP存在“坏消息传播得慢”的问题")]),t._v(" "),o("p",[o("img",{attrs:{src:r(558),alt:"image-20240301192144205"}})]),t._v(" "),o("p",[t._v("假设，R1到达其直连网络N1的链路出现故障，会将达到N1的路由条目中的距离"),o("font",{attrs:{color:"#EA0000"}},[t._v("修改为16")]),t._v("，表示N1不可达")],1),t._v(" "),o("p",[o("img",{attrs:{src:r(559),alt:"image-20240301192233918"}})]),t._v(" "),o("p",[t._v("并等待RIP更新周期到时后，发送该路由信息给R2；")]),t._v(" "),o("p",[t._v("而此时R2的路由条目仍然是先前通过RIP协议获取到的，也就是到达N1的距离为2，下一跳通过R1转发")]),t._v(" "),o("p",[o("img",{attrs:{src:r(560),alt:"image-20240301192530172"}})]),t._v(" "),o("p",[t._v("但是，"),o("font",{attrs:{color:"#EA0000"}},[t._v("假设R2的RIP"),o("strong",[t._v("更新周期")]),t._v("先到时")]),t._v("，也就是R2的这条路由信息先到达R1，而R1的这条路由信息后到达R2")],1),t._v(" "),o("p",[o("img",{attrs:{src:r(561),alt:"image-20240301192634673"}})]),t._v(" "),o("p",[t._v("当R1收到R2的信息后，就会"),o("font",{attrs:{color:"#EA0000"}},[t._v("被该谣言误导")]),t._v("，认为虽然自己无法到达N1，但是R2可以到达N1，"),o("font",{staticStyle:{"background-color":"#ff0"}},[t._v("认为可以通过R2到达N1，距离为3；")]),t._v("并在自己的RIP更新周期到时后，将这条路由信息发送给R2，以此类推（互相误导）")],1),t._v(" "),o("p",[o("img",{attrs:{src:r(562),alt:"image-20240301193008226"}})]),t._v(" "),o("p",[t._v("直到R1和R2中这条记录都到16后，R1和R2才都知道N1不可达")]),t._v(" "),o("p",[t._v("在该过程中，"),o("font",{attrs:{color:"#EA0000"}},[t._v("R1和R2会出现"),o("strong",[t._v("路由环路")]),t._v("，时间长达"),o("strong",[t._v("数分钟")])])],1),t._v(" "),o("p",[o("img",{attrs:{src:r(563),alt:"image-20240301193236412"}})]),t._v(" "),o("ul",[o("li",[t._v("“坏消息传播得慢”又称为"),o("font",{attrs:{color:"#EA0000"}},[t._v("路由环路")]),t._v("或"),o("font",{attrs:{color:"#EA0000"}},[t._v("距离无穷计数")]),t._v("问题，这是"),o("font",{attrs:{color:"#EA0000"}},[t._v("距离向量算法的一个固有问题")]),t._v("。可以采取多种措施"),o("font",{attrs:{color:"#EA0000"}},[t._v("减少")]),t._v("出现该问题的概率或减小该问题带来的危害\n"),o("ul",[o("li",[o("font",{attrs:{color:"#EA0000"}},[t._v("限制最大路径距离")]),t._v("为15（16表示不可达）")],1),t._v(" "),o("li",[t._v("当路由表发生变化时就立即发送更新报文（“"),o("font",{attrs:{color:"#EA0000"}},[t._v("触发更新")]),t._v("”），而不是等着周期性发送")],1),t._v(" "),o("li",[t._v("让路由器记录收到某特定路由信息的接口，而不让同一路由信息再通过此接口向反方向传送（“"),o("font",{attrs:{color:"#EA0000"}},[t._v("水平分割")]),t._v("”）")],1)])],1)])])}),[],!1,null,null,null);o.default=_.exports}}]);