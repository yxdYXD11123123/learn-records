(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{666:function(t,v,_){"use strict";_.r(v);var o=_(14),l=Object(o.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"边界网关协议bgp的基本工作原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#边界网关协议bgp的基本工作原理"}},[t._v("#")]),t._v(" 边界网关协议BGP的基本工作原理")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("外部网关协议EGP（例如边界网关协议BGP）")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("在不同自治系统内，度量路由的“代价”（距离、带宽、费用）可能不同")]),t._v(" "),v("p",[t._v("因此，对于自治系统之间的路由选择，使用“代价”作为度量来寻找最佳路由是不行的")])]),t._v(" "),v("li",[v("p",[t._v("自治系统之间的路由选择必须考虑相关策略（政治，经济，安全等）")])]),t._v(" "),v("li",[v("p",[t._v("BGP只能是力求寻找一条能够到达目的网络且比较好的路由器（不能兜圈子），而并非寻找一条最佳路由")])])])]),t._v(" "),v("li",[v("p",[t._v("在配置BGP时，每个自治系统的管理员要选择至少一个路由器作为该自治系统的“"),v("font",{attrs:{color:"#EA0000"}},[t._v("BGP发言人")]),t._v("”")],1)]),t._v(" "),v("li",[v("p",[t._v("不同自治系统的BGP发言人要交换路由信息，首先必须建立"),v("font",{attrs:{color:"#EA0000"}},[t._v("TCP连接")]),t._v("，端口号为179")],1),t._v(" "),v("ul",[v("li",[t._v("在此TCP连接上交换BGP报文以建立"),v("font",{attrs:{color:"#EA0000"}},[t._v("BGP会话")])],1),t._v(" "),v("li",[t._v("利用BGP会话"),v("font",{attrs:{color:"#EA0000"}},[t._v("交换路由信息")]),t._v("（例如，增加新的路由，或撤销过时路由，以及报告出错的情况等）")],1),t._v(" "),v("li",[t._v("使用TCP连接交换路由信息的两个BGP发言人，彼此称为对方的"),v("font",{attrs:{color:"#EA0000"}},[t._v("邻站")]),t._v("或"),v("font",{attrs:{color:"#EA0000"}},[t._v("对等站")])],1)])]),t._v(" "),v("li",[v("p",[t._v("BGP发言人除了运行BGP外，还必须运行自己所在自治系统所使用的内部网关协议IGP，例如OSPF或RIP")])]),t._v(" "),v("li",[v("p",[t._v("BGP发言人"),v("font",{attrs:{color:"#EA0000"}},[t._v("交换网络可达性的信息")]),t._v("（要到达某个网络所要经过的一系统自治系统）")],1)]),t._v(" "),v("li",[v("p",[t._v("当BGP发言人互相交换了网络可达性信息后，各BGP发言人就"),v("font",{attrs:{color:"#EA0000"}},[t._v("根据")]),t._v("所采用的"),v("font",{attrs:{color:"#EA0000"}},[t._v("策略")]),t._v("从收到的路由信息中"),v("font",{attrs:{color:"#EA0000"}},[t._v("找出到达各自治系统的较好的路由")]),t._v("，也就是构造出树形结构、"),v("font",{attrs:{color:"#EA0000"}},[t._v("不存在回路的自治系统连通图")])],1)]),t._v(" "),v("li",[v("p",[t._v("BGP适用于多级结构的因特网")])]),t._v(" "),v("li",[v("p",[t._v("BGP-4有以下四种报文：")]),t._v(" "),v("ul",[v("li",[v("font",{attrs:{color:"#EA0000"}},[t._v("OPEN（打开）报文")]),t._v("：用来与相邻的另一个BGP发言人建立关系，使通信初始化")],1),t._v(" "),v("li",[v("font",{attrs:{color:"#EA0000"}},[t._v("UPDATE（更新）报文")]),t._v("：用来通告某一路由的信息，以及列出要撤销的多条路由")],1),t._v(" "),v("li",[v("font",{attrs:{color:"#EA0000"}},[t._v("KEEPALIVE（保洁）报文")]),t._v("：用来周期性地证实邻站的连通性")],1),t._v(" "),v("li",[v("font",{attrs:{color:"#EA0000"}},[t._v("NOTIFICATION（通知）报文")]),t._v("：用来发送检测到的差错")],1)])])])])}),[],!1,null,null,null);v.default=l.exports}}]);