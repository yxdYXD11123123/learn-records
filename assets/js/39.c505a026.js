(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{531:function(t,v,_){t.exports=_.p+"assets/img/image-20240228185544675.1112fc05.png"},532:function(t,v,_){t.exports=_.p+"assets/img/image-20240228234943380.a583cc0f.png"},533:function(t,v,_){t.exports=_.p+"assets/img/image-20240229001848738.e6f45d1d.png"},534:function(t,v,_){t.exports=_.p+"assets/img/image-20240228185806550.3c5b8372.png"},535:function(t,v,_){t.exports=_.p+"assets/img/image-20240228191545924.28a75412.png"},588:function(t,v,_){"use strict";_.r(v);var s=_(14),r=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"ip数据报的发送和转发过程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ip数据报的发送和转发过程"}},[t._v("#")]),t._v(" IP数据报的发送和转发过程")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("IP数据报的发送和转发过程包含以下两个部分：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("主机发送IP数据报")]),t._v(" "),v("p",[t._v("判断"),v("font",{attrs:{color:"#EA0000"}},[t._v("目的主机是否与自己在同一个网络")])],1),t._v(" "),v("ul",[v("li",[t._v("若在"),v("font",{attrs:{color:"#EA0000"}},[t._v("同一个网络")]),t._v("，则属于"),v("font",{attrs:{color:"#EA0000"}},[t._v("直接交付")])],1),t._v(" "),v("li",[t._v("若"),v("font",{attrs:{color:"#EA0000"}},[t._v("不在同一个网络")]),t._v("，则属于"),v("font",{attrs:{color:"#EA0000"}},[t._v("间接交付")]),t._v("，传输给主机所在网络的"),v("font",{attrs:{color:"#8600FF"}},[v("strong",[t._v("默认网关")])]),t._v("（某路由器接口），由默认网关的路由器帮忙转发")],1)]),t._v(" "),v("p",[v("img",{attrs:{src:_(531),alt:"image-20240228185544675"}})])]),t._v(" "),v("li",[v("p",[t._v("路由器转发IP数据报")]),t._v(" "),v("ol",[v("li",[v("p",[v("font",{attrs:{color:"#EA0000"}},[t._v("首先检查IP数据报首部是否出错")]),t._v("：")],1),t._v(" "),v("ul",[v("li",[t._v("若出错，则直接丢弃该IP数据报并通告源主机")]),t._v(" "),v("li",[t._v("若没有出错，则进行转发")])])]),t._v(" "),v("li",[v("p",[v("font",{attrs:{color:"#EA0000"}},[t._v("根据IP数据报的目的地址在路由表中查找匹配的条目")])],1),t._v(" "),v("p",[t._v("根据"),v("strong",[t._v("目的地址")]),t._v("在"),v("strong",[t._v("路由表")]),t._v("中通过"),v("strong",[t._v("每条记录的地址掩码")]),t._v("去计算找出"),v("strong",[t._v("目的网络")]),t._v("地址的"),v("font",{attrs:{color:"#8600FF"}},[t._v("对应"),v("strong",[t._v("接口")])]),t._v("，通过该接口转发出去，到达目的网络")],1),t._v(" "),v("ul",[v("li",[t._v("若找到匹配的条目，则转发给条目中指示的下一跳")]),t._v(" "),v("li",[t._v("若找不到，则丢弃该IP数据报并通告源主机")])]),t._v(" "),v("p",[v("img",{attrs:{src:_(532),alt:"image-20240228234943380"}})]),t._v(" "),v("p",[v("img",{attrs:{src:_(533),alt:"image-20240229001848738"}})])])])])]),t._v(" "),v("blockquote",[v("p",[t._v("为了将重点放在TCP/IP协议栈的网际层发送和转发IP数据报的过程上，在之后的举例中，我们忽略使用ARP协议来获取目的主机或路由器接口的MAC地址的过程以及以太网交换机自学习和转发帧的过程")])])])]),t._v(" "),v("h4",{attrs:{id:"源主机如何知道目的主机是否与自己在同一网络中呢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#源主机如何知道目的主机是否与自己在同一网络中呢"}},[t._v("#")]),t._v(" 源主机如何知道目的主机是否与自己在同一网络中呢？")]),t._v(" "),v("p",[t._v("假设，主机C要给主机F发送数据报")]),t._v(" "),v("p",[v("img",{attrs:{src:_(534),alt:"image-20240228185806550"}})]),t._v(" "),v("ul",[v("li",[t._v("将主机C的IP地址与子网掩码相与，就可以得到C的网络地址")]),t._v(" "),v("li",[t._v("将目的主机F的IP地址与子网掩码相与，就可以得到目的网络地址")]),t._v(" "),v("li",[t._v("两个网络地址对比，不相等，则不在同一个网络中，就属于间接交付")]),t._v(" "),v("li",[t._v("主机C需要将IP数据报传输给路由器，由路由器将IP数据报转发给主机F")])]),t._v(" "),v("h4",{attrs:{id:"主机c如何知道应该把ip数据报交给哪个路由器进行转发呢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主机c如何知道应该把ip数据报交给哪个路由器进行转发呢"}},[t._v("#")]),t._v(" 主机C如何知道应该把IP数据报交给哪个路由器进行转发呢？")]),t._v(" "),v("p",[t._v("用户为了让本网络中的主机可以和其他网络的主机通信，就必须给其指定本网络中的一个路由器，由该路由器帮忙进行转发，所指定的路由器，也被称为"),v("font",{attrs:{color:"#8600FF"}},[v("strong",[t._v("默认网关")])]),t._v("。")],1),t._v(" "),v("p",[t._v("例如在下图中，我们可以将192.168.0.126路由器接口作为该网络各个主机的"),v("strong",[t._v("默认网关")]),t._v("，由默认网关帮主机将IP数据包转发出去")]),t._v(" "),v("p",[v("img",{attrs:{src:_(535),alt:"image-20240228191545924"}})])])}),[],!1,null,null,null);v.default=r.exports}}]);