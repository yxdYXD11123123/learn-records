(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{407:function(t,s,a){t.exports=a.p+"assets/img/image-20240131172610339.889e2706.png"},408:function(t,s,a){t.exports=a.p+"assets/img/image-20240131172833763.b6c7e019.png"},409:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173104403-1706693465073-1.97ec69cc.png"},410:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173421362.7faa8e7d.png"},411:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173653336.fc4a343a.png"},412:function(t,s,a){t.exports=a.p+"assets/img/image-20240131173931287.a61bbc45.png"},413:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174046294.94a36c6f.png"},414:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174148960.fe1e6f3b.png"},415:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174304952.285a4794.png"},416:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174410853.8d6ae574.png"},417:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174428662.02b5be27.png"},418:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174608810.c950adf1.png"},419:function(t,s,a){t.exports=a.p+"assets/img/image-20240131174936686.f54960fd.png"},551:function(t,s,a){"use strict";a.r(s);var v=a(14),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"选择重传协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择重传协议"}},[t._v("#")]),t._v(" 选择重传协议")]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#8600FF"}},[t._v("回退 N 帧协议")]),t._v("的接收窗口尺寸"),s("font",{attrs:{color:"#EA0000"}},[t._v("W"),s("sub",[t._v("R")]),t._v(" 只能等于 1")]),t._v("，因此接收方"),s("font",{attrs:{color:"#EA0000"}},[t._v("只能按序接收正确到达的数据分组")])],1),t._v(" "),s("li",[s("u",[t._v("一个数据分组的误码就会导致后续多个数据分组不能被接收方按序接收而丢弃")]),t._v("。这必然会造成发送方对这些数据分组的超时重传，显然这是对通信资源的极大浪费。")]),t._v(" "),s("li",[t._v("为了进一步提高性能，可设法"),s("font",{attrs:{color:"#EA0000"}},[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("只重传出现误码的数据分组")])],1),t._v("，因此，接收窗口的尺寸"),s("font",{attrs:{color:"#EA0000"}},[t._v("W"),s("sub",[t._v("R")]),t._v("不应再等于 1（而应大于 1）")]),t._v("，以便接收方"),s("font",{attrs:{color:"#EA7500"}},[t._v("先收下失序到达但无误码并且序号落在接收窗口内的那些数据分组")]),t._v("，等到所缺分组收齐后再一并送交上层，这就是"),s("font",{attrs:{color:"#8600FF"}},[s("strong",[t._v("选择重传协议")])]),t._v("。")],1)]),t._v(" "),s("p",[s("strong",[t._v("注意：")])]),t._v(" "),s("ul",[s("li",[s("font",{attrs:{color:"#8600FF"}},[t._v("选择重传协议")]),t._v("为了使发送方仅重传出现差错的分组，接收方"),s("font",{attrs:{color:"#EA0000"}},[t._v("不能再采用累积确认")]),t._v("，而需要对每个正确接收到数据分组进行"),s("font",{attrs:{color:"#EA0000"}},[t._v("逐一确认")])],1)]),t._v(" "),s("h2",{attrs:{id:"工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作原理"}},[t._v("#")]),t._v(" 工作原理")]),t._v(" "),s("p",[t._v("假设：")]),t._v(" "),s("ul",[s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("采用 3 个比特个分组编号，0 - 7")])],1),t._v(" "),s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("发送窗口的尺寸 W"),s("sub",[t._v("T")]),t._v("的取值：1 < W"),s("sub",[t._v("T")]),t._v(" <= 2 "),s("sup",[t._v("3-1")]),t._v("，本例取 4")])],1),t._v(" "),s("li",[s("font",{staticStyle:{"background-color":"#ff0"}},[t._v("接收窗口的尺寸 W"),s("sub",[t._v("R")]),t._v("的取值：W"),s("sub",[t._v("R")]),t._v(" = W"),s("sub",[t._v("T")]),t._v(" = 4 （一般情况下，两个窗口尺寸取值相同）")])],1)]),t._v(" "),s("p",[s("img",{attrs:{src:a(407),alt:"image-20240131172610339"}})]),t._v(" "),s("p",[t._v("开始发送：")]),t._v(" "),s("ul",[s("li",[t._v("发送方将序号落在发送窗口内的这 4 个数据分组依次连续发送出去")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(408),alt:"image-20240131172833763"}})]),t._v(" "),s("ul",[s("li",[t._v("经过互联网的传输陆续到达接收方，但其中 2 号数据分组丢失了")]),t._v(" "),s("li",[t._v("其他序号可落入接收窗口且无误码的数据分组，接收方都会被接收")]),t._v(" "),s("li",[t._v("接收方接收 0 号和 1 号分组，并发送相应的确认分组")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(409),alt:"image-20240131173104403"}})]),t._v(" "),s("ul",[s("li",[t._v("接收窗口向前滑动两个位置\n"),s("ul",[s("li",[t._v("此时，4 号和 5 号落入接收窗口")])])]),t._v(" "),s("li",[t._v("接收方接收 3 号数据分组，并发送确认分组，但"),s("font",{attrs:{color:"#EA0000"}},[t._v("窗口不能滑动")]),t._v("（因为 3 号是未按序到达的数据分组）")],1),t._v(" "),s("li",[t._v("确认分组经过互联网传输，陆续到达发送方")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(410),alt:"image-20240131173421362"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方每按序收到一个确认分组，发送窗口向前滑动一个位置")]),t._v(" "),s("li",[t._v("发送方接收 0 号和 1 号，向前滑动 2 个位置，这样 4、5 号就进入了发送窗口")]),t._v(" "),s("li",[t._v("发送方将新落入发送窗口的 4 号和 5 号发送出去，并可以将 0、1 号从缓存中删除")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(411),alt:"image-20240131173653336"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方接收 3 号分组，但窗口不能向前滑动，因为这是一个未按序到达的确认分组，发送方还未收到它之前的 2 号确认分组\n"),s("ul",[s("li",[t._v("不过，需要"),s("font",{attrs:{color:"#EA0000"}},[t._v("记录 3 号数据分组已收到确认，避免超时重发")])],1)])]),t._v(" "),s("li",[t._v("4、5 号到达接收方，但接收窗口仍然不能向前滑动")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(412),alt:"image-20240131173931287"}})]),t._v(" "),s("ul",[s("li",[t._v("假设在 4、5 号数据确认分组传输过程中，发送方针对 2 号数据分组的重传计时器超时了")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(413),alt:"image-20240131174046294"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方重发 2 号分组，接收到 4、5 号确认分组后记录")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(414),alt:"image-20240131174148960"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方重传的 2 号分组到达接收方，接收方接收该分组，并可以向前滑动 4 个位置，并发出 2 号确认分组")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(415),alt:"image-20240131174304952"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方接收到 2 号确认分组，发送窗口也可以向前滑动 4 个位置")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(416),alt:"image-20240131174410853"}})]),t._v(" "),s("ul",[s("li",[t._v("发送方可以继续发送后面的分组了")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(417),alt:"image-20240131174428662"}})]),t._v(" "),s("h3",{attrs:{id:"选择重传协议的发送窗口和接收窗口的尺寸问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选择重传协议的发送窗口和接收窗口的尺寸问题"}},[t._v("#")]),t._v(" 选择重传协议的发送窗口和接收窗口的尺寸问题")]),t._v(" "),s("p",[s("img",{attrs:{src:a(418),alt:"image-20240131174608810"}})]),t._v(" "),s("p",[s("font",{attrs:{color:"#EA0000"}},[t._v("如果发送窗口和接收窗口的尺寸超过了取值范围，接收方无法分辨出新、旧分组。")])],1),t._v(" "),s("p",[s("img",{attrs:{src:a(419),alt:"image-20240131174936686"}})])])}),[],!1,null,null,null);s.default=_.exports}}]);